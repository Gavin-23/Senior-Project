(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"1S5y":function(l,n,u){"use strict";u.r(n);var o=u("CcnG"),t=u("mrSG"),e=u("ZZ/e"),i=u("xdv0"),r=u("iqUP"),c=function(){function l(l,n,u,o,t,e){this.http=l,this.afstore=n,this.user=u,this.alertController=o,this.router=t,this.afStorage=e,this.status=!1}return l.prototype.ngOnInit=function(){var l=this;this.user.read_Event().subscribe(function(n){l.event=n.map(function(l){return{id:l.payload.doc.id,isEdit:!1,Name:l.payload.doc.data().Name,Desc:l.payload.doc.data().Description,Localtion:l.payload.doc.data().Location,Time:l.payload.doc.data().Time,Scope:l.payload.doc.data().Scope,Type:l.payload.doc.data().Type,Member:l.payload.doc.data().Member}}),console.log(l.event),console.log("read event successfully!")}),this.user.getStudentId().subscribe(function(n){l.students=n.map(function(n){if(n.payload.doc.id==r.auth().currentUser.uid)return l.studentId=n.payload.doc.data().studentId})}),this.userId=r.auth().currentUser.uid},l.prototype.checkStatus=function(l){return!Object.values(l.Member).includes(this.studentId)},l.prototype.FollowEvent=function(l){if(l.status=!l.status,1==l.status){var n=Object.keys(l.Member).length-1,u=l.Member;console.log(this.userId),console.log(this.studentId),u[n+1]=this.studentId,console.log(u),this.user.follow_Event(l.id,u),console.log("Follow Successfully!")}},l.prototype.UnfollowEvent=function(l){var n=this;console.log("show confirmation alert"),this.presentAlertConfirm("Are you sure you want to unfollow this event?").then(function(u){if(u){l.status=n.status;for(var o=l.Member,t=0;t<o.length;t++)console.log(o[t]),o[t]==n.studentId&&o.splice(t,1),n.user.follow_Event(l.id,o);console.log(o),n.showAlert("Successfully!","Unfollow Success!"),console.log("show unfollow success alert"),console.log("Unfollow Successfully!")}else console.log("Unfollow Canceled!")})},l.prototype.Detail=function(l){l.isDetail=!0},l.prototype.presentAlertConfirm=function(l){return t.__awaiter(this,void 0,void 0,function(){var n,u;return t.__generator(this,function(o){switch(o.label){case 0:return u=new Promise(function(l){n=l}),[4,this.alertController.create({header:"Confirmation!",message:l,buttons:[{text:"Cancel",handler:function(){return n(!1)}},{text:"Confirm",handler:function(){return n(!0)}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2,u]}})})},l.prototype.showAlert=function(l,n){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(u){switch(u.label){case 0:return[4,this.alertController.create({header:l,message:n,buttons:["OK"]})];case 1:return[4,u.sent().present()];case 2:return u.sent(),[2]}})})},l}(),a=function(){return function(){}}(),s=u("pMnS"),b=u("oBZk"),p=u("Ip0R"),d=u("sE5F"),f=u("fvl4"),m=u("ZYCi"),h=u("VRER"),k=o.nb({encapsulation:0,styles:[[".button-follow[_ngcontent-%COMP%]{background-color:#fff;color:#835301;border:2px solid #835301;border-radius:8px}.button-detail[_ngcontent-%COMP%]{background-color:#fff;color:#ffce00;border:2px solid #ffce00;border-radius:8px}"]],data:{}});function g(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,4,"ion-button",[["color","primary"],["fill","outline"],["item-right",""],["size","small"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.FollowEvent(l.parent.parent.context.$implicit)&&o),o},b.H,b.b)),o.ob(1,49152,null,0,e.i,[o.h,o.k,o.z],{color:[0,"color"],fill:[1,"fill"],size:[2,"size"]},null),(l()(),o.Hb(-1,0,[" Follow "])),(l()(),o.pb(3,0,null,0,1,"ion-icon",[["name","ios-add-circle-outline"],["slot","end"]],null,null,null,b.S,b.m)),o.ob(4,49152,null,0,e.A,[o.h,o.k,o.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"primary","outline","small"),l(n,4,0,"ios-add-circle-outline")},null)}function z(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,4,"ion-button",[["color","primary"],["fill","outline"],["item-right",""],["size","small"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.UnfollowEvent(l.parent.parent.context.$implicit)&&o),o},b.H,b.b)),o.ob(1,49152,null,0,e.i,[o.h,o.k,o.z],{color:[0,"color"],fill:[1,"fill"],size:[2,"size"]},null),(l()(),o.Hb(-1,0,[" Unfollow "])),(l()(),o.pb(3,0,null,0,1,"ion-icon",[["name","ios-remove-circle-outline"],["slot","end"]],null,null,null,b.S,b.m)),o.ob(4,49152,null,0,e.A,[o.h,o.k,o.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"primary","outline","small"),l(n,4,0,"ios-remove-circle-outline")},null)}function v(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,4,"ion-card-header",[],null,null,null,b.J,b.e)),o.ob(2,49152,null,0,e.m,[o.h,o.k,o.z],null,null),(l()(),o.pb(3,0,null,0,2,"ion-card-title",[["color","secondary"]],null,null,null,b.L,b.g)),o.ob(4,49152,null,0,e.o,[o.h,o.k,o.z],{color:[0,"color"]},null),(l()(),o.Hb(5,0,["",""])),(l()(),o.pb(6,0,null,null,10,"ion-card-content",[],null,null,null,b.I,b.d)),o.ob(7,49152,null,0,e.l,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,g)),o.ob(9,16384,null,0,p.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,z)),o.ob(11,16384,null,0,p.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(12,0,null,0,4,"ion-button",[["color","warning"],["fill","outline"],["item-right",""],["size","small"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.Detail(l.parent.context.$implicit)&&o),o},b.H,b.b)),o.ob(13,49152,null,0,e.i,[o.h,o.k,o.z],{color:[0,"color"],fill:[1,"fill"],size:[2,"size"]},null),(l()(),o.Hb(-1,0,[" Detail "])),(l()(),o.pb(15,0,null,0,1,"ion-icon",[["name","ios-more"],["size","small"],["slot","end"]],null,null,null,b.S,b.m)),o.ob(16,49152,null,0,e.A,[o.h,o.k,o.z],{name:[0,"name"],size:[1,"size"]},null)],function(l,n){var u=n.component;l(n,4,0,"secondary"),l(n,9,0,u.checkStatus(n.parent.context.$implicit)),l(n,11,0,!u.checkStatus(n.parent.context.$implicit)),l(n,13,0,"warning","outline","small"),l(n,16,0,"ios-more","small")},function(l,n){l(n,5,0,n.parent.context.$implicit.Name)})}function w(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,10,"ion-card-header",[],null,null,null,b.J,b.e)),o.ob(1,49152,null,0,e.m,[o.h,o.k,o.z],null,null),(l()(),o.pb(2,0,null,0,8,"ion-card-title",[],null,null,null,b.L,b.g)),o.ob(3,49152,null,0,e.o,[o.h,o.k,o.z],null,null),(l()(),o.pb(4,0,null,0,6,"ion-grid",[],null,null,null,b.Q,b.k)),o.ob(5,49152,null,0,e.y,[o.h,o.k,o.z],null,null),(l()(),o.pb(6,0,null,0,4,"ion-row",[],null,null,null,b.ab,b.u)),o.ob(7,49152,null,0,e.gb,[o.h,o.k,o.z],null,null),(l()(),o.pb(8,0,null,0,2,"ion-col",[],null,null,null,b.N,b.h)),o.ob(9,49152,null,0,e.r,[o.h,o.k,o.z],null,null),(l()(),o.Hb(10,0,[" "," "])),(l()(),o.pb(11,0,null,null,30,"ion-list",[],null,null,null,b.W,b.q)),o.ob(12,49152,null,0,e.M,[o.h,o.k,o.z],null,null),(l()(),o.pb(13,0,null,0,4,"ion-item",[],null,null,null,b.U,b.o)),o.ob(14,49152,null,0,e.F,[o.h,o.k,o.z],null,null),(l()(),o.pb(15,0,null,0,2,"ion-card-subtitle",[],null,null,null,b.K,b.f)),o.ob(16,49152,null,0,e.n,[o.h,o.k,o.z],null,null),(l()(),o.Hb(17,0,["Location:",""])),(l()(),o.pb(18,0,null,0,5,"ion-item",[],null,null,null,b.U,b.o)),o.ob(19,49152,null,0,e.F,[o.h,o.k,o.z],null,null),(l()(),o.pb(20,0,null,0,3,"ion-card-subtitle",[],null,null,null,b.K,b.f)),o.ob(21,49152,null,0,e.n,[o.h,o.k,o.z],null,null),(l()(),o.Hb(22,0,["Time: ",""])),o.Db(23,2),(l()(),o.pb(24,0,null,0,4,"ion-item",[],null,null,null,b.U,b.o)),o.ob(25,49152,null,0,e.F,[o.h,o.k,o.z],null,null),(l()(),o.pb(26,0,null,0,2,"ion-card-subtitle",[],null,null,null,b.K,b.f)),o.ob(27,49152,null,0,e.n,[o.h,o.k,o.z],null,null),(l()(),o.Hb(28,0,["Scope: ",""])),(l()(),o.pb(29,0,null,0,4,"ion-item",[],null,null,null,b.U,b.o)),o.ob(30,49152,null,0,e.F,[o.h,o.k,o.z],null,null),(l()(),o.pb(31,0,null,0,2,"ion-card-subtitle",[],null,null,null,b.K,b.f)),o.ob(32,49152,null,0,e.n,[o.h,o.k,o.z],null,null),(l()(),o.Hb(33,0,["Type: ",""])),(l()(),o.pb(34,0,null,0,7,"ion-item",[],null,null,null,b.U,b.o)),o.ob(35,49152,null,0,e.F,[o.h,o.k,o.z],null,null),(l()(),o.pb(36,0,null,0,2,"ion-card-subtitle",[],null,null,null,b.K,b.f)),o.ob(37,49152,null,0,e.n,[o.h,o.k,o.z],null,null),(l()(),o.Hb(-1,0,["Description:"])),(l()(),o.pb(39,0,null,0,2,"ion-card-content",[],null,null,null,b.I,b.d)),o.ob(40,49152,null,0,e.l,[o.h,o.k,o.z],null,null),(l()(),o.Hb(41,0,["",""])),(l()(),o.pb(42,0,null,null,6,"ion-card-content",[],null,null,null,b.I,b.d)),o.ob(43,49152,null,0,e.l,[o.h,o.k,o.z],null,null),(l()(),o.pb(44,0,null,0,4,"ion-col",[],null,null,null,b.N,b.h)),o.ob(45,49152,null,0,e.r,[o.h,o.k,o.z],null,null),(l()(),o.pb(46,0,null,0,2,"ion-button",[["color","dark"],["fill","outline"],["size","small"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=0!=(l.parent.context.$implicit.isDetail=!1)&&o),o},b.H,b.b)),o.ob(47,49152,null,0,e.i,[o.h,o.k,o.z],{color:[0,"color"],fill:[1,"fill"],size:[2,"size"]},null),(l()(),o.Hb(-1,0,[" Back "]))],function(l,n){l(n,47,0,"dark","outline","small")},function(l,n){l(n,10,0,n.parent.context.$implicit.Name),l(n,17,0,n.parent.context.$implicit.Localtion);var u=o.Ib(n,22,0,l(n,23,0,o.zb(n.parent.parent,0),n.parent.context.$implicit.Time,"medium"));l(n,22,0,u),l(n,28,0,n.parent.context.$implicit.Scope),l(n,33,0,n.parent.context.$implicit.Type),l(n,41,0,n.parent.context.$implicit.Desc)})}function y(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,4,"ion-card",[],null,null,null,b.M,b.c)),o.ob(1,49152,null,0,e.k,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,v)),o.ob(3,16384,null,0,p.k,[o.O,o.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),o.gb(0,[["elseBlock",2]],0,0,null,w))],function(l,n){l(n,3,0,!n.context.$implicit.isDetail,o.zb(n,4))},null)}function x(l){return o.Jb(0,[o.Bb(0,p.d,[o.u]),(l()(),o.pb(1,0,null,null,6,"ion-header",[],null,null,null,b.R,b.l)),o.ob(2,49152,null,0,e.z,[o.h,o.k,o.z],null,null),(l()(),o.pb(3,0,null,0,4,"ion-toolbar",[],null,null,null,b.lb,b.F)),o.ob(4,49152,null,0,e.zb,[o.h,o.k,o.z],null,null),(l()(),o.pb(5,0,null,0,2,"ion-title",[],null,null,null,b.kb,b.E)),o.ob(6,49152,null,0,e.xb,[o.h,o.k,o.z],null,null),(l()(),o.Hb(-1,0,[" Event List "])),(l()(),o.pb(8,0,null,null,3,"ion-content",[["padding",""]],null,null,null,b.O,b.i)),o.ob(9,49152,null,0,e.s,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,y)),o.ob(11,278528,null,0,p.j,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,11,0,n.component.event)},null)}function I(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"app-view-event",[],null,null,null,x,k)),o.ob(1,114688,null,0,c,[d.d,f.a,i.a,e.a,m.m,h.a],null,null)],function(l,n){l(n,1,0)},null)}var S=o.lb("app-view-event",c,I,{},{},[]),H=u("gIcY");u.d(n,"ViewEventPageModuleNgFactory",function(){return E});var E=o.mb(a,[],function(l){return o.wb([o.xb(512,o.j,o.bb,[[8,[s.a,S]],[3,o.j],o.x]),o.xb(4608,p.m,p.l,[o.u,[2,p.x]]),o.xb(4608,H.k,H.k,[]),o.xb(4608,e.b,e.b,[o.z,o.g]),o.xb(4608,e.Db,e.Db,[e.b,o.j,o.q]),o.xb(4608,e.Gb,e.Gb,[e.b,o.j,o.q]),o.xb(1073742336,p.b,p.b,[]),o.xb(1073742336,H.i,H.i,[]),o.xb(1073742336,H.b,H.b,[]),o.xb(1073742336,e.Bb,e.Bb,[]),o.xb(1073742336,m.n,m.n,[[2,m.t],[2,m.m]]),o.xb(1073742336,a,a,[]),o.xb(1024,m.k,function(){return[[{path:"",component:c}]]},[])])})}}]);